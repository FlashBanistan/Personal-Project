<section class="header">
  <div class="left">
    <img id="logo" src="./images/logo.png" alt="logo" ui-sref="landing" />
    <p id="site-name">Flashcards DB</p>
  </div>

  <img id="search-icon" src="./images/search-icon.png" alt="search-icon" />
  <form ng-submit="onFormSubmit(searchTerm)">
    <input id="menuBar-searchBox"ng-model='searchTerm' placeholder="Search by category">
  </form>


  <div class="right">
    <div class="dropdown">
      <img src="./images/hamburger.png" alt="menu" onclick="myFunction()" class="hamburger"/>
      <div id="myDropdown" class="dropdown-content">
        <a ng-show="loggedIn" ui-sref="home">My Account</a>
        <a ng-show="!loggedIn" data-toggle="modal" data-target="#myModal">Log in</a>
        <a ng-show="loggedIn" ng-click="logout()">logout</a>
      </div>
</div>
  </div>

  <!-- Modal -->
  <div id="myModal" class="modal fade" data-backdrop="">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Sign In</h4>
            </div>
            <div class="modal-body">
              <form ng-submit="login(user)">
                <p>Email address</p>
                <input type="email" ng-model="user.email" required/>
                <p>Password</p>
                <input type="password" ng-model="user.password" required/>
                <button id="modal-login-button" ng-submit="login(user)" type="submit">Login</button>
              </form>
            </div>

        </div>
    </div>
  </div>
  <!-- /Modal -->

<script>


/* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
}
// Close the dropdown menu if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.hamburger')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}


</script>
